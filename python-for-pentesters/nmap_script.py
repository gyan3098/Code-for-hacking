import nmap
import sys

target = str(sys.argv[1])
ports = [21,22,80,139,443,8080]

scan_v =  nmap.PortScanner()

print("\nScanning ",target," for ports 21,22,80,139,443 and 8080 ...\n")

for port in ports:
    portscan = scan_v.scan(target,str(port))
    """{'nmap': {'command_line': 'nmap -oX - -p 80 -sV google.com', 'scaninfo': {'tcp': {'method': 'syn', 'services': '80'}}, 'scanstats': {'timestr': 'Thu Apr 02 18:36:50 2020', 'elapsed': '72.67', 'uphosts': '1', 'downhosts': '0', 'totalhosts': '1'}}, 'scan': {'172.217.166.238': {'hostnames': [{'name': 'google.com', 'type': 'user'}, {'name': 'del03s14-in-f14.1e100.net', 'type': 'PTR'}], 'addresses': {'ipv4': '172.217.166.238'}, 'vendor': {}, 'status': {'state': 'up', 'reason': 'syn-ack'}, 'tcp': {80: {'state': 'open', 'reason': 'syn-ack', 'name': 'http', 'product': 'gws', 'version': '', 'extrainfo': '', 'conf': '10', 'cpe': ''}}}}}"""
    print("Port",port," is "+ portscan['scan'][target]['tcp'][port]['state'])

print("\nHost ",target, " is ",portscan['scan'][target]['status']['state'])
